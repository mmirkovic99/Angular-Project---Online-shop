<div class="product" (click)="navigateProduct(product.id)" #productElement>
  <div class="product__img-container">
    <img
      [src]="product.images[0]"
      alt="Nike"
      class="product__img-container__img"
    />
  </div>

  <div class="product__data">
    <div class="product__title">{{ product.title }}</div>
    <div class="product__container">
      <div class="product__container__type">Men's Shoes</div>
    </div>
    <ng-container
      *ngIf="!(product.tag | sale); then normalPrice; else salePrice"
    ></ng-container>
    <div class="product__tag" [ngClass]="product.tag | tagType">
      <ng-container [ngSwitch]="product.tag">
        <svg
          *ngSwitchCase="'Popular'"
          class="product__tag__icon"
          width="12"
          height="14"
          viewBox="0 0 12 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.0328 6.33124C10.7295 5.64852 10.2885 5.03574 9.7375 4.53124L9.28281 4.11406C9.26737 4.10028 9.24879 4.0905 9.22869 4.08558C9.2086 4.08067 9.1876 4.08076 9.16754 4.08585C9.14749 4.09094 9.12899 4.10087 9.11367 4.11478C9.09835 4.12869 9.08668 4.14615 9.07969 4.16562L8.87656 4.74843C8.75 5.11406 8.51719 5.48749 8.1875 5.85468C8.16563 5.87812 8.14063 5.88437 8.12344 5.88593C8.10625 5.88749 8.07969 5.88437 8.05625 5.86249C8.03437 5.84374 8.02344 5.81562 8.025 5.78749C8.08281 4.84687 7.80156 3.78593 7.18594 2.63124C6.67656 1.67187 5.96875 0.923431 5.08437 0.401556L4.43906 0.0218687C4.35469 -0.0281313 4.24688 0.0374936 4.25156 0.135931L4.28594 0.885931C4.30937 1.39843 4.25 1.85156 4.10938 2.22812C3.9375 2.68906 3.69062 3.11718 3.375 3.50156C3.15535 3.76869 2.90639 4.0103 2.63281 4.22187C1.97391 4.72838 1.43815 5.37739 1.06562 6.12031C0.694022 6.8697 0.500453 7.69477 0.5 8.53124C0.5 9.26874 0.645312 9.98281 0.932812 10.6562C1.21042 11.3046 1.61103 11.8931 2.1125 12.3891C2.61875 12.8891 3.20625 13.2828 3.86094 13.5562C4.53906 13.8406 5.25781 13.9844 6 13.9844C6.74219 13.9844 7.46094 13.8406 8.13906 13.5578C8.79214 13.286 9.38601 12.8895 9.8875 12.3906C10.3938 11.8906 10.7906 11.3062 11.0672 10.6578C11.3543 9.98621 11.5015 9.26318 11.5 8.53281C11.5 7.77031 11.3438 7.02968 11.0328 6.33124Z"
            fill="#EF4444"
          />
        </svg>
        <svg
          *ngSwitchCase="'New'"
          class="product__tag__icon"
          height="20px"
          width="20px"
          version="1.1"
          id="_x32_"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 512 512"
          xml:space="preserve"
          fill="#000000"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <style type="text/css">
              .st0 {
                fill: #1b3a79;
              }
            </style>
            <g>
              <path
                class="st0"
                d="M491.503,254.652c-29.484-18.019-141.453-84.077-205.852-108.103c-46.85-17.478-52.631-3.482-60.607,18.02 c-3.845,10.374-7.956,18.224-13.123,24.568c-16.903,20.748-44.2,26.206-90.064,26.206c-43.717,0-57.025-25.46-69.335-40.948 c-9.826-12.364-28.618-9.31-34.394,1.639c-31.123,58.961-15.264,124.483-3.251,145.774h488.089 C512.793,308.704,520.981,272.672,491.503,254.652z"
              ></path>
              <polygon
                class="st0"
                points="450.871,330.767 428.762,330.767 378.199,330.767 356.09,330.767 305.528,330.767 283.418,330.767 232.855,330.767 210.752,330.767 160.19,330.767 138.08,330.767 87.524,330.767 65.414,330.767 16.834,330.767 14.852,330.767 14.852,373.348 65.414,373.348 65.414,358.711 87.524,358.711 87.524,373.348 138.08,373.348 138.08,358.711 160.19,358.711 160.19,373.348 210.752,373.348 210.752,358.711 232.855,358.711 232.855,373.348 283.418,373.348 283.418,358.711 305.528,358.711 305.528,373.348 356.09,373.348 356.09,358.711 378.199,358.711 378.199,373.348 428.762,373.348 428.762,358.711 450.871,358.711 450.871,373.348 501.428,373.348 501.428,330.767 481.426,330.767 "
              ></polygon>
            </g>
          </g>
        </svg>
        <svg
          *ngSwitchDefault
          class="product__tag__icon"
          width="20px"
          height="20px"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12.8 4.79999H2.79998V4.39999L11.6 3.69599V4.39999H12.8V3.19999C12.8 2.31999 12.0872 1.70239 11.2168 1.82639L3.18398 2.97359C2.31278 3.09839 1.59998 3.91999 1.59998 4.79999V12.8C1.59998 13.2243 1.76855 13.6313 2.0686 13.9314C2.36866 14.2314 2.77563 14.4 3.19998 14.4H12.8C13.2243 14.4 13.6313 14.2314 13.9313 13.9314C14.2314 13.6313 14.4 13.2243 14.4 12.8V6.39999C14.4 5.97564 14.2314 5.56868 13.9313 5.26862C13.6313 4.96856 13.2243 4.79999 12.8 4.79999ZM11.6 10.4048C11.4423 10.4047 11.2863 10.3736 11.1406 10.3133C10.995 10.2529 10.8627 10.1644 10.7513 10.0529C10.6399 9.94141 10.5515 9.80905 10.4912 9.66339C10.4309 9.51773 10.3999 9.36163 10.4 9.20399C10.4 9.04635 10.4311 8.89027 10.4915 8.74465C10.5519 8.59903 10.6403 8.46673 10.7518 8.3553C10.8634 8.24387 10.9957 8.15549 11.1414 8.09521C11.287 8.03493 11.4431 8.00394 11.6008 8.00399C11.9191 8.0041 12.2244 8.13067 12.4495 8.35586C12.6745 8.58105 12.8009 8.88642 12.8008 9.20479C12.8007 9.52315 12.6741 9.82844 12.4489 10.0535C12.2237 10.2785 11.9183 10.4049 11.6 10.4048Z"
            fill="#0B9567"
          />
        </svg>
      </ng-container>
      <div class="product__tag__text label label--regular label--bold">
        {{ product.tag }}
      </div>
    </div>
  </div>
</div>

<ng-template #normalPrice>
  <div class="product__price">
    {{ product.price | currency }}
  </div>
</ng-template>

<ng-template #salePrice>
  <div class="product__price">
    <div class="product__price__old">{{ product.oldPrice | currency }}</div>
    <div class="product__price__new">{{ product.price | currency }}</div>
  </div>
  <div class="product__discount">
    {{ product.oldPrice | discount : product.price }}
  </div>
</ng-template>
